# Default values for coredns-etcd

# Use etcd backend or simple ConfigMap-based DNS
useEtcd: true

# CoreDNS configuration
coredns:
  replicaCount: 1
  image:
    repository: coredns/coredns
    tag: "1.11.1"
    pullPolicy: IfNotPresent
  
  service:
    type: ClusterIP
    port: 53
    protocol: UDP
  
  resources:
    limits:
      cpu: 200m
      memory: 256Mi
    requests:
      cpu: 100m
      memory: 128Mi
  
  # Zone configuration
  zone: "example.local."
  
  # Example records for ConfigMap mode (when useEtcd=false)
  records: |
    app.example.local. 60 IN A 10.1.2.3
    db.example.local. 60 IN A 10.1.2.4

# etcd configuration
etcd:
  replicaCount: 1
  image:
    repository: quay.io/coreos/etcd
    tag: "v3.5.11"
    pullPolicy: IfNotPresent
  
  service:
    type: ClusterIP
    clientPort: 2379
    peerPort: 2380
  
  resources:
    limits:
      cpu: 500m
      memory: 512Mi
    requests:
      cpu: 100m
      memory: 128Mi
  
  # Data directory for etcd
  dataDir: /etcd-data
  
  # Persistence (disabled for prototype)
  persistence:
    enabled: false
    size: 1Gi

# etcd key prefix for DNS zones
etcdPrefix: "/conn3ction/zones"
